{"paragraphs":[{"text":"%flink.conf\n\nFLINK_HOME /Users/jincheng.sunjc/work/flink/build-target\nflink.execution.mode local\nflink.execution.remote.host localhost\nflink.execution.remote.port 8081\n\nzeppelin.flink.enableHive false\nzeppelin.flink.planner blink\n\nrest.port 18081","user":"anonymous","config":{"editorSetting":{"language":"text","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/text","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1562567347434_-2047699644","id":"paragraph_1562567347434_-2047699644","dateCreated":"2019-09-18T16:32:08+0800","status":"FINISHED","focus":true,"$$hashKey":"object:302","runtimeInfos":{}},{"text":"%flink.pyflink\n\nimport tempfile\nimport os\nimport shutil\nsink_path =  '/tmp/batch.csv'\nif os.path.exists(sink_path):\n  if os.path.isfile(sink_path):\n        os.remove(sink_path)\n  else:\n        shutil.rmtree(sink_path)\nb_env.set_parallelism(1)\nt = bt_env.from_elements([(1, 'hi', 'hello'), (2, 'hi', 'hello')], ['a', 'b', 'c'])\nbt_env.connect(FileSystem().path(sink_path)) \\\n     .with_format(OldCsv()\n                  .field_delimiter(',')\n                  .field(\"a\", DataTypes.BIGINT())\n                  .field(\"b\", DataTypes.STRING())\n                  .field(\"c\", DataTypes.STRING())) \\\n     .with_schema(Schema()\n                  .field(\"a\", DataTypes.BIGINT())\n                  .field(\"b\", DataTypes.STRING())\n                  .field(\"c\", DataTypes.STRING())) \\\n     .register_table_sink(\"batch_sink\")\n\nt.select(\"a + 1, b, c\").insert_into(\"batch_sink\")\n\nbt_env.execute(\"batch_job\")\n","user":"anonymous","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1562567584970_-321834792","id":"paragraph_1562567584970_-321834792","dateCreated":"2019-09-18T16:32:23+0800","status":"FINISHED","$$hashKey":"object:303","runtimeInfos":{}},{"text":"%flink.bsql\n\nshow catalogs;\n","user":"anonymous","dateUpdated":"2019-09-18T16:10:05+0800","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"catalog":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"catalog\ndefault_catalog\nhive\n"}]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1568794205343_-387856692","id":"paragraph_1562567589112_1605376729","dateCreated":"2019-09-18T16:10:05+0800","status":"READY","$$hashKey":"object:304"},{"text":"%flink.bsql\n\nshow tables","user":"anonymous","dateUpdated":"2019-09-18T16:10:05+0800","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"table":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"table\na\nb\nt1\n"}]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1568794205343_2079838120","id":"paragraph_1562572149898_-1412782531","dateCreated":"2019-09-18T16:10:05+0800","status":"READY","$$hashKey":"object:305"},{"text":"%flink.bsql\n\ndescribe a","user":"anonymous","dateUpdated":"2019-09-18T16:10:05+0800","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Column\tType\nOptional[tt]\tOptional[STRING]\n"}]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1568794205343_1226239305","id":"paragraph_1567825421378_-1432796829","dateCreated":"2019-09-18T16:10:05+0800","status":"READY","$$hashKey":"object:306"},{"text":"%flink.bsql\n\nselect tt, count(1) from a group by tt","user":"anonymous","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tt":"string","EXPR$1":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"tt","index":0,"aggr":"sum"}],"groups":[],"values":[{"name":"EXPR$1","index":1,"aggr":"sum"}]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"tt\tEXPR$1\nhello\t3\nworld\t1\nflink\t1\nhadoop\t1\n"},{"type":"TEXT","data":""}]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1562572157097_-159000164","id":"paragraph_1562572157097_-159000164","dateCreated":"2019-09-18T16:10:38+0800","status":"READY","$$hashKey":"object:307","runtimeInfos":{}},{"text":"%flink.bsql\n\nselect * from a;","user":"anonymous","dateUpdated":"2019-09-18T16:10:05+0800","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tt":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"tt\nhello\nworld\nhello\nflink\nhello\nhadoop\n"},{"type":"TEXT","data":""}]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1568794205344_-2017573263","id":"paragraph_1567832933934_1579983522","dateCreated":"2019-09-18T16:10:05+0800","status":"READY","$$hashKey":"object:308"},{"text":"%flink.ipyflink\n\n\n","user":"anonymous","dateUpdated":"2019-09-18T16:10:05+0800","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"runOnSelectionChange":true,"title":false,"checkEmpty":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"ERROR","msg":[{"type":"TEXT","data":"\u001b[0;31m\u001b[0m\n\u001b[0;31mImportError\u001b[0mTraceback (most recent call last)\n\u001b[0;32m<ipython-input-6-e2ca35c14ffb>\u001b[0m in \u001b[0;36m<module>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0;32mimport\u001b[0m \u001b[0mkeras\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m \u001b[0mkeras\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m__version__\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\n\u001b[0;31mImportError\u001b[0m: No module named keras"}]},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1568794205344_650911304","id":"paragraph_1562574960803_1224684830","dateCreated":"2019-09-18T16:10:05+0800","status":"READY","$$hashKey":"object:309"},{"text":"%flink.ipyflink\n","user":"anonymous","dateUpdated":"2019-09-18T16:10:05+0800","config":{"editorSetting":{"language":"python","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/python","fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"progressUpdateIntervalMs":500,"jobName":"paragraph_1568794205344_-1793067608","id":"paragraph_1567747350886_116996495","dateCreated":"2019-09-18T16:10:05+0800","status":"READY","$$hashKey":"object:310"}],"name":"Flink Tutorial","id":"2EQ5U2BH4","defaultInterpreterGroup":"flink","version":"0.9.0-SNAPSHOT","permissions":{},"noteParams":{},"noteForms":{},"angularObjects":{},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{},"path":"/Flink Tutorial"}